(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d779e9e"],{"0934":function(e,t,s){},"1a4e":function(e,t,s){"use strict";t["a"]={methods:{changeLoader(e){const t=new CustomEvent("changeLoader",{bubbles:!0,detail:{loader:e}});window.dispatchEvent(t)}}}},bb50:function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"list-notes"},[t("PopupMessage",{attrs:{content:e.popupMessage,position:"bottom",type:e.popupType,show:e.triggerPopup},on:{showBack:function(t){e.triggerPopup=!1}}}),t("button",{staticClass:"btn btn-primary add-new-note float",on:{click:e.goToNew}},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-plus"}})],1),t("div",{staticClass:"header"},[t("h1",[e._v("Note ("+e._s(this.notes.length)+")")])]),t("div",{staticClass:"panel-delete-background",class:e.panelDelete?"show":"hide"},[t("div",{staticClass:"blurred",on:{click:function(t){e.panelDelete=!1}}}),t("div",{staticClass:"panel-delete d-flex flex-direction-column"},[t("h4",[e._v("Sei sicuro di voler eliminare la nota?")]),t("div",{staticClass:"action d-flex"},[t("button",{staticClass:"btn",on:{click:function(t){e.panelDelete=!1}}},[e._v(" Annulla ")]),t("button",{staticClass:"btn btn-primary",on:{click:function(t){return e.deleteNote(e.selectedIndex)}}},[e._v(" Conferma ")])])])]),t("ul",e._l(e.notes,(function(s,o){return t("li",{key:o,staticClass:"note"},[t("div",{staticClass:"note-background",on:{click:function(t){return e.openNote(o)}}},[t("div",{staticClass:"title"},[e._v(" "+e._s(s.title)+" ")]),t("div",{staticClass:"content"}),t("div",{staticClass:"type"})]),t("div",{staticClass:"note-foreground"},[t("div",{staticClass:"delete",on:{click:function(t){return e.selectNoteForDelete(o)}}},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-trash"}})],1)])])})),0)],1)},n=[],a=(s("14d9"),s("fe0f")),i=s("e613"),l=s("1a4e"),c={name:"NotesList",mixins:[l["a"]],components:{PopupMessage:i["a"]},props:{},data(){return{user:{},notes:[],panelDelete:!1,selectedIndex:Number,popupMessage:"",popupType:"",triggerPopup:!1}},created(){let e=this,t=window.sessionStorage.getItem("userData");null!=t&&(this.user=JSON.parse(t)),this.changeLoader(!0),this.getNotes().then(t=>{e.notes=t,e.changeLoader(!1)})},methods:{goToNew(){this.$router.push({path:"new",replace:!0})},selectNoteForDelete(e){this.selectedIndex=e,this.panelDelete=!0},deleteNote(e){let t=this;a["a"].from("notes").delete().eq("id",this.notes[e].id).then(s=>{console.log(s),t.notes.splice(e,1),t.popupMessage="Nota eliminata",t.popupType="success",t.triggerPopup=!0,t.panelDelete=!1}).catch(e=>{console.log(e)})},getNotes(){return new Promise((e,t)=>{let s=this;a["a"].from("notes").select().eq("user_id",s.user.id).order("id",{ascending:!1}).then(t=>{e(t.data)}).catch(e=>{t(e)})})},openNote(e){let t=this;this.$router.push({name:"ShowNote",params:{propsNote:t.notes[e]}})}}},r=c,p=(s("ca8c"),s("2877")),u=Object(p["a"])(r,o,n,!1,null,null,null);t["default"]=u.exports},ca8c:function(e,t,s){"use strict";s("0934")}}]);